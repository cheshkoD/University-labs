import datetime  # Імпортуємо модуль datetime для роботи з датою та часом

# Український алфавіт у нижньому регістрі
UKRAINIAN_ALPHABET_LOWER = 'абвгґдеєжзиіїйклмнопрстуфхцчшщьюя'

# Функція для перетворення тексту у числовий формат з використанням українського алфавіту
def text_to_numeric(text):
    numeric_text = ""  # Ініціалізуємо змінну, що буде містити числовий текст
    for char in text:  # Проходимося по кожному символу у вхідному тексті
        if char.lower() in UKRAINIAN_ALPHABET_LOWER:  # Перевіряємо, чи символ є українською літерою
            numeric_text += str(UKRAINIAN_ALPHABET_LOWER.index(char.lower()) + 1).zfill(2)  # Додаємо індекс літери, з лідируючими нулями для однозначних чисел
        else:
            numeric_text += char  # Якщо символ не знайдено у алфавіті, залишаємо його без змін
    return numeric_text

# Функція для розшифровки числового тексту у звичайний текст з використанням українського алфавіту
def numeric_to_text(numeric_text):
    text = ""  # Ініціалізуємо змінну для зберігання розшифрованого тексту
    i = 0  # Ініціалізуємо лічильник для проходження по числовому тексту
    while i < len(numeric_text):  # Поки не пройшли весь числовий текст
        if numeric_text[i:i+2].isdigit():  # Перевіряємо, чи наступні два символи у числовому тексті є числами
            num = int(numeric_text[i:i+2])  # Отримуємо двозначне число
            if num > 0 and num <= len(UKRAINIAN_ALPHABET_LOWER):  # Перевіряємо, чи число в межах діапазону алфавіту
                text += UKRAINIAN_ALPHABET_LOWER[num - 1]  # Додаємо відповідну літеру
            else:
                text += numeric_text[i:i+2]  # Якщо число не знаходиться у межах алфавіту, залишаємо без змін
            i += 2  # Переходимо на наступні дві цифри
        else:
            text += numeric_text[i]  # Якщо наступні два символи не є числами, додаємо поточний символ без змін
            i += 1  # Переходимо до наступного символу
    return text  # Повертаємо розшифрований текст

# Зміна у функції генерації гамми для використання українського алфавіту
def generate_gamma(surname, name, date):
    gamma = text_to_numeric(surname.lower() + name.lower() + date)  # Переводимо прізвище, ім'я та дату в числовий формат
    return gamma  # Повертаємо гамму (ключову фразу)

# Вхідні дані
text = """
Ще не вмерла Україна, і слава, і воля,
Ще нам, браття молодії, усміхнеться доля.
Згинуть наші вороженьки, як роса на сонці,
Запануєм і ми, браття, у своїй сторонці.
Душу, тіло ми положим за нашу свободу.
І покажем, що ми, браття, козацького роду. """

surname = "чешко"
name = "дмитро"
current_date = datetime.datetime.now().strftime("%d%m")  # Поточна дата у форматі ддмм

# Кодуємо текст у числовому форматі
numeric_text = text_to_numeric(text)

# Створюємо гамму (ключову фразу)
gamma = generate_gamma(surname, name, current_date)

print("Текст у числовому форматі:", numeric_text)
print("\nГамма (ключова фраза):", gamma)

# Розшифровуємо числовий текст
decoded_text = numeric_to_text(numeric_text)
print("\nРозшифрований текст:", decoded_text)
